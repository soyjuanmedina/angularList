<p-table #dt [value]="customers" [(selection)]="selectedCustomers">
    <ng-template pTemplate="caption">
        <div class="table-header">
            List of Customers
        </div>
        <button *ngIf="options.includes('create')" pButton pRipple type="button"
            icon="pi pi-plus-circle" class="p-button-rounded" (click)="emitCreate()"></button>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 3rem"></th>

            <th *ngFor="let header of headers" [pSortableColumn]="header.code">
                {{header.displayText}}
                <p-sortIcon [field]="header.code"></p-sortIcon>
            </th>
            <th style="width: 8rem"></th>
        </tr>
        <tr>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-customer>
        <tr class="p-selectable-row">
            <td>
                <p-tableCheckbox [value]="customer" (click)="emitSelect(customer)">
                </p-tableCheckbox>
            </td>
            <td>
                <span class="p-column-title">Name</span>
                {{customer.name}}
            </td>
            <td>
                <span class="p-column-title">Country</span>
                <span class="image-text">{{customer.country.name}}</span>
            </td>
            <td>
                <span class="p-column-title">Representative</span>
                <span class="image-text">{{customer.representative.name}}</span>
            </td>
            <td>
                <span class="p-column-title">Date</span>
                {{customer.date}}
            </td>
            <td>
                <span class="p-column-title">Status</span>
                <span
                    [class]="'customer-badge status-' + customer.status">{{customer.status}}</span>
            </td>
            <td>
                <span class="p-column-title">Activity</span>
                <p-progressBar [value]="customer.activity" [showValue]="false"></p-progressBar>
            </td>
            <td style="text-align: center">
                <button *ngIf="options.includes('update')" pButton type="button"
                    class="p-button-secondary" icon="pi pi-pencil"
                    (click)="emitUpdate(customer)"></button>
                <button *ngIf="options.includes('delete')" pButton pRipple type="button"
                    icon="pi pi-trash" class="p-button-rounded"
                    (click)="emitDelete(customer)"></button>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="8">No customers found.</td>
        </tr>
    </ng-template>
</p-table>